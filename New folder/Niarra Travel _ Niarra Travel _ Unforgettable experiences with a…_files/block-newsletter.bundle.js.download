(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{542:function(e,t,r){"use strict";r.r(t);r(15),r(16),r(8),r(17),r(14),r(18),r(19),r(11),r(12),r(13);var n=r(3),o=r.n(n),i=r(5),a=r(10),u=r(50),l=r(1),s=(r(80),r(94),r(326),r(213),r(161),r(131),r(351));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(i,e);var t,r,n,o=y(i);function i(e){var t,r=e.el,n=e.buttonSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),v(m(t=o.call(this)),"_submitHandler",(function(e){e.preventDefault(),t._hideValidationErrors();var r=s.a.validate(t._requiredInputs);r.length>0?t._showValidationErrors(r):(t._enableLoadingState(),t._recaptchaId&&window.grecaptcha.reset(t._recaptchaId),t._recaptchaId=window.grecaptcha.render("form-newsletter-recaptcha",{sitekey:"6LfkcL4aAAAAAPG6nPlQvqS_sjfzb3N3UuzNHBRL",size:"invisible",callback:function(){return t._submit()}}),window.grecaptcha.execute(t._recaptchaId))})),v(m(t),"_submitResponseHandler",(function(e){"success"===e?(l.a.timeline().to(t.el,{autoAlpha:0,duration:.5}),t.dispatchEvent("submit:success")):(t._showSubmitError(),t.dispatchEvent("submit:error"));t._disableLoadingState()})),t.el=r,t.ui={inputs:t.el.querySelectorAll(".js-input"),errorMessage:t.el.querySelector(".js-error-message"),validationMessage:t.el.querySelector(".js-validation-message")},t._buttonSubmit=n,t._defaultButtonLabel=t._buttonSubmit.textContent,t._requiredInputs=Array.from(t.ui.inputs).filter((function(e){return null!==e.getAttribute("data-required")})),t._setupEventListeners(),t._populateAttributerHiddenInputs(),t}return t=i,(r=[{key:"_setupEventListeners",value:function(){this.el.addEventListener("submit",this._submitHandler)}},{key:"_populateAttributerHiddenInputs",value:function(){var e=document.FlareTrk.data,t={lc_channel_c:e.drillData.channel,lc_source_c:e.drillData.drillDown1,lc_campaign_c:e.drillData.drillDown2,lc_content_c:e.drillData.drillDown3,lc_landing_c:e.landing_url};f(this.el.querySelectorAll('input[type="hidden"]')).map((function(e){e.id.indexOf("lc_")>-1&&(e.value=t[e.id])}))}},{key:"_submit",value:function(){for(var e=new FormData(this.el),t=0;t<this.ui.inputs.length;t++){var r=this.ui.inputs[t];"checkbox"===r.type&&(r.classList.contains("js-email-opt-in")?e.set(r.name,r.checked?"on":"off"):e.set(r.name,r.checked?1:0))}s.a.submit(e,"https://niarratravel.sugaropencloud.uk/index.php?entryPoint=WebToLeadCapture",this._submitResponseHandler)}},{key:"_hideValidationErrors",value:function(){for(var e=0;e<this._requiredInputs.length;e++)this._requiredInputs[e].classList.remove("is-invalid");l.a.to(this.ui.validationMessage,{alpha:0,display:"none",duration:.3})}},{key:"_showValidationErrors",value:function(e){for(var t=0;t<e.length;t++)e[t].classList.add("is-invalid");l.a.to(this.ui.validationMessage,{alpha:1,display:"block",duration:.3})}},{key:"_showSubmitError",value:function(){l.a.to(this.ui.errorMessage,{alpha:1,display:"block",duration:.3})}},{key:"_enableLoadingState",value:function(){document.querySelector("html").style.cursor="progress",this._buttonSubmit.setAttribute("disabled",!0),this._buttonSubmit.textContent="Submitting..."}},{key:"_disableLoadingState",value:function(){document.querySelector("html").style.cursor="",this._buttonSubmit.removeAttribute("disabled",!0),this._buttonSubmit.textContent=this._defaultButtonLabel}}])&&d(t.prototype,r),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}function P(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(s,e);var t,r,n,o=j(s);function s(e){var t,r=e.el;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),E(O(t=o.call(this)),"_handleScrollTrackerChangeProgress",(function(e){t._tlParallax||(t._tlParallax=l.a.timeline({paused:!0}),t._tlParallax.fromTo(t.ui.heading,{scale:1.2},{scale:1,duration:.3,ease:"sine.inOut"},.3),t._tlParallax.fromTo(t.ui.heading,{autoAlpha:0},{autoAlpha:1,duration:.2,ease:"sine.in"},.3),t._tlParallax.fromTo(t.ui.subheading,{autoAlpha:0},{autoAlpha:1,duration:.2,ease:"none"},.4),u.adaptive.isMediaQueryActive("wide")||t._tlParallax.fromTo(t.ui.clouds,{y:a.resizeManager.rem(50)},{y:a.resizeManager.rem(0),duration:1,ease:"sine.inOut"},0),u.adaptive.isMediaQueryActive("wide")&&(t._tlParallax.fromTo(t.ui.heading,{y:a.resizeManager.rem(40)},{y:0,duration:.3,ease:"sine.inOut"},.3),t._tlParallax.fromTo(t.ui.mountain,{y:a.resizeManager.rem(200)},{y:a.resizeManager.rem(-50),duration:1,ease:"sine.inOut"},0))),t._tlParallax.progress(e)})),E(O(t),"_handleScrollTrackerChangeVisibility",(function(){})),E(O(t),"_submitSuccessHandler",(function(){var e=l.a.timeline();e.to(t.ui.buttonSubmit,{autoAlpha:0,duration:.5}),e.to(t.ui.successMessage,{autoAlpha:1,duration:.5})})),t.el=r,t.ui={successMessage:t.el.querySelector(".js-success-message"),buttonSubmit:t.el.querySelector(".js-button-submit"),subheading:t.el.querySelector(".js-subheading"),mountain:t.el.querySelector(".js-mountain"),heading:t.el.querySelector(".js-heading"),clouds:t.el.querySelector(".js-clouds"),form:t.el.querySelector(".js-form")},t.components={formNewsletter:new g({buttonSubmit:t.ui.buttonSubmit,el:t.ui.form})},t._tracker=i.c.track({element:t.el,container:"pages"}),t._setupEventListeners(),t}return t=s,(r=[{key:"destroy",value:function(){this._removeEventListeners(),this._killTimelines()}},{key:"_setupEventListeners",value:function(){this._tracker.addEventListener("change:progress",this._handleScrollTrackerChangeProgress),this._tracker.addEventListener("change:visibility",this._handleScrollTrackerChangeVisibility),this.components.formNewsletter.addEventListener("submit:success",this._submitSuccessHandler)}},{key:"_removeEventListeners",value:function(){this._tracker.removeEventListener("change:progress",this._changeScrollTrackerProgress),this._tracker.removeEventListener("change:visibility",this._changeScrollTrackerVisibility)}},{key:"_killTimelines",value:function(){this._tlParallax&&(this._tlParallax.kill(),this._tlParallax=null)}}])&&w(t.prototype,r),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.a);t.default=L}}]);