(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{541:function(e,t,i){"use strict";i.r(t);i(8),i(61),i(212),i(326);var n=i(5),r=i(50),a=i(1),s=i(112),o=i(342),l=i(10),c=i(165);function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(t){var i=t.el,n=t.odd;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=i,this.ui={container:this.el.querySelector(".js-container"),image:this.el.querySelector(".js-image")},this.components={container:void 0,image:void 0},r.adaptive.isMediaQueryActive("wide"),r.adaptive.isMediaQueryActive("wide")&&(this.components.container=new c.a({el:this.el,offset:n?150:100}))}var t,i,n;return t=e,(i=[{key:"getTweenParallax",value:function(e){var t=e.container,i=e.image,n=a.a.timeline();return n.fromTo(this.el,{y:l.resizeManager.rem(t)},{y:l.resizeManager.rem(-t),duration:1,ease:"sine.inOut"},0),n.fromTo(this.ui.image,{y:l.resizeManager.rem(-i)},{y:l.resizeManager.rem(i),duration:1,ease:"sine.inOut"},0),n}}])&&u(t.prototype,i),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=i(163);function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=function(){function e(t){var i=this,r=t.el;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"_handleScrollTrackerChangeProgress",(function(e){e>.15&&(i._tlTransitionIn||(i._tlTransitionIn=a.a.timeline(),i._tlTransitionIn.to(i.ui.subheading,{autoAlpha:1,duration:.6,ease:"sine.inOut"},0),i._tlTransitionIn.add(i.components.heading.getTweenTransitionIn(),.2)),i._transitionInRequested&&(i._transitionInRequested=!1,i._tlTransitionIn.play(0)))})),g(this,"_handleScrollTrackerChangeVisibility",(function(e){e===n.b.hidden&&i._tracker.progress<.5&&(i._transitionInit(),i._transitionReset())})),g(this,"_dragUpdatePositionHandler",(function(){i.components.scrollIndicator.setProgress(i.components.carousel.drag.position/i.components.carousel.drag.limit)})),this.el=r,this.ui={subheading:this.el.querySelector(".js-subheading"),heading:this.el.querySelector(".js-heading"),carousel:this.el.querySelector(".js-carousel"),scrollIndicator:this.el.querySelector(".js-scroll-indicator"),featuredTravelStyles:a.a.utils.toArray(this.el.querySelectorAll(".js-featured-travel-style"))};var s=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(i._create(),s.unobserve(i.el))}))}));s.observe(this.el)}var t,i,l;return t=e,(i=[{key:"_create",value:function(){this.components={heading:new s.a({el:this.ui.heading}),carousel:r.adaptive.isMediaQueryActive("wide")?null:new o.a({el:this.ui.carousel}),scrollIndicator:r.adaptive.isMediaQueryActive("wide")?null:new d.a({el:this.ui.scrollIndicator}),featuredTravelStyles:this.ui.featuredTravelStyles.map((function(e,t){return new h({el:e,odd:t%2})}))},this._transitionInit(),this._transitionReset(),this._tracker=n.c.track({element:this.el,container:"pages"}),this._setupEventListeners()}},{key:"destroy",value:function(){n.c.untrack(this._tracker),this._removeEventListeners(),this._killTimelines()}},{key:"_setupEventListeners",value:function(){this._tracker.addEventListener("change:progress",this._handleScrollTrackerChangeProgress),this._tracker.addEventListener("change:visibility",this._handleScrollTrackerChangeVisibility),this.components.carousel&&this.components.carousel.drag.addEventListener("change:position",this._dragUpdatePositionHandler)}},{key:"_removeEventListeners",value:function(){this._tracker.removeEventListener("change:progress",this._handleScrollTrackerChangeProgress),this._tracker.removeEventListener("change:visibility",this._handleScrollTrackerChangeVisibility),this.components.carousel&&this.components.carousel.drag.removeEventListener("change:position",this._dragUpdatePositionHandler)}},{key:"_killTimelines",value:function(){this._tlParallax&&(this._tlParallax.kill(),this._tlParallax=null)}},{key:"_transitionInit",value:function(){this.components.heading.transitionInit(),this.ui.subheading.style.visibility="hidden",this.ui.subheading.style.opacity=0}},{key:"_transitionIn",value:function(){this._tlTransitionIn}},{key:"_transitionReset",value:function(){this._transitionInRequested=!0}}])&&v(t.prototype,i),l&&v(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=y}}]);